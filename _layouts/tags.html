---
layout: page
title: Tags
---

{% assign grouped = {} %}
{% assign categories = "" | split: "" %}

{% for tag in site.tags %}
  {% assign tag_name = tag[0] %}
  {% assign posts = tag[1] %}

  {% if tag_name contains 'comp-' %}
    {% assign category = 'Competiciones' %}
    {% assign display = tag_name | remove: 'comp-' %}
  {% elsif tag_name contains ' - ' %}
    {% assign parts = tag_name | split: ' - ' %}
    {% assign category = parts[0] %}
    {% assign display = parts[1] %}
  {% else %}
    {% assign category = 'Otros' %}
    {% assign display = tag_name %}
  {% endif %}

  {% capture entry %}
    {{ tag_name }}::{{ display }}::{{ posts | size }}
  {% endcapture %}

  {% assign category_list = grouped[category] | default: "" %}
  {% assign category_list = category_list | append: "|" | append: entry %}
  {% assign grouped = grouped | merge: category: category_list %}

  {% unless categories contains category %}
    {% assign categories = categories | push: category %}
  {% endunless %}
{% endfor %}

{% assign sorted_categories = categories | sort_natural %}

<!-- Mostrar todas las categorÃ­as -->
{% for cat in sorted_categories %}
  <h2 class="mt-4">{{ cat }}</h2>
  <div class="d-flex flex-wrap mb-4">
    {% assign entries = grouped[cat] | remove_first: "|" | split: "|" | sort_natural %}
    {% for e in entries %}
      {% assign parts = e | split: "::" %}
      {% assign tag_slug = parts[0] %}
      {% assign tag_name = parts[1] %}
      {% assign tag_count = parts[2] %}
      <a class="tag" href="{{ '/tags/' | append: tag_slug | slugify | append: '/' | relative_url }}">
        {{ tag_name }}
        <span class="text-muted">{{ tag_count }}</span>
      </a>
    {% endfor %}
  </div>
{% endfor %}
