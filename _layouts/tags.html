---
layout: page
title: Tags
---

<style>
.tag {
  display: inline-block;
  padding: 4px 10px;
  margin: 4px 6px 4px 0;
  font-size: 0.85rem;
  border: 1px solid var(--text-muted-color);
  border-radius: 999px;
  background-color: var(--tag-bg, #f2f2f2);
  color: var(--text-color);
  text-decoration: none;
  transition: background-color 0.2s ease;
}

.tag:hover {
  background-color: var(--tag-hover-bg, #e2e2e2);
  text-decoration: none;
}

.tag .text-muted {
  font-size: 0.75rem;
  margin-left: 4px;
}
</style>

<!-- Sección: Competiciones -->
<h2>Competiciones</h2>
<div id="tags-comp" class="d-flex flex-wrap mx-xl-2 mb-4">
  {% assign tags = '' | split: '' %}
  {% for t in site.tags %}
    {% if t[0] contains 'comp-' %}
      {% assign tags = tags | push: t[0] %}
    {% endif %}
  {% endfor %}

  {% assign sorted_tags = tags | sort_natural %}

  {% for t in sorted_tags %}
    <div>
      <a class="tag" href="{{ t | slugify | url_encode | prepend: '/tags/' | append: '/' | relative_url }}">
        {{ t | remove: 'comp-' }}
        <span class="text-muted">{{ site.tags[t].size }}</span>
      </a>
    </div>
  {% endfor %}
</div>

<!-- Sección: Otros Tags agrupados -->
<h2>Otros Tags</h2>
{% assign all_tags = '' | split: '' %}
{% for t in site.tags %}
  {% unless t[0] contains 'comp-' %}
    {% assign all_tags = all_tags | push: t[0] %}
  {% endunless %}
{% endfor %}

{% assign sorted_all = all_tags | sort_natural %}
{% assign categories = '' | split: '' %}

<!-- Recoger prefijos únicos como categorías -->
{% for tag in sorted_all %}
  {% if tag contains ' - ' %}
    {% assign prefix = tag | split: ' - ' | first %}
  {% else %}
    {% assign prefix = 'Otros' %}
  {% endif %}

  {% unless categories contains prefix %}
    {% assign categories = categories | push: prefix %}
  {% endunless %}
{% endfor %}

<!-- Mostrar cada categoría -->
{% for cat in categories %}
  <h3 class="mt-4">{{ cat }}</h3>
  <div class="d-flex flex-wrap mb-4">
    {% for tag in sorted_all %}
      {% if tag contains ' - ' %}
        {% assign prefix = tag | split: ' - ' | first %}
        {% assign name = tag | split: ' - ' | last %}
      {% else %}
        {% assign prefix = 'Otros' %}
        {% assign name = tag %}
      {% endif %}

      {% if prefix == cat %}
        <a class="tag" href="{{ tag | slugify | url_encode | prepend: '/tags/' | append: '/' | relative_url }}">
          {{ name }}
          <span class="text-muted">{{ site.tags[tag].size }}</span>
        </a>
      {% endif %}
    {% endfor %}
  </div>
{% endfor %}